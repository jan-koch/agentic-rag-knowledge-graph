# Production Environment Configuration for Agentic RAG Knowledge Graph
# Copy this file to .env and customize the values

# Database Configuration
POSTGRES_PASSWORD=your-secure-postgres-password-here
DATABASE_URL=postgresql://raguser:${POSTGRES_PASSWORD}@postgres:5432/agentic_rag

# Neo4j Configuration  
NEO4J_PASSWORD=your-secure-neo4j-password-here
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j

# LLM Provider Configuration
LLM_PROVIDER=openai
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=sk-your-openai-api-key-here
LLM_CHOICE=gpt-4.1-mini

# Embedding Configuration
EMBEDDING_PROVIDER=openai
EMBEDDING_BASE_URL=https://api.openai.com/v1
EMBEDDING_API_KEY=sk-your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-3-small

# Ingestion LLM (can be different/cheaper model)
INGESTION_LLM_CHOICE=gpt-4.1-nano

# Application Configuration
APP_ENV=production
LOG_LEVEL=INFO
APP_HOST=127.0.0.1
APP_PORT=8058

# Security Configuration
# REQUIRED: Generate a strong API key for n8n access
N8N_API_KEY=your-secure-n8n-api-key-here

# OPTIONAL: Webhook signature verification (recommended)
N8N_WEBHOOK_SECRET=your-webhook-secret-here

# CORS Configuration - restrict to your n8n domain(s)
# Example: https://your-n8n-instance.com,https://backup-n8n.com
ALLOWED_ORIGINS=*

# IP Whitelisting (recommended for production)
# Set to true and specify allowed IPs below
ENABLE_IP_WHITELIST=false
# Comma-separated list of allowed IP addresses
# Example: 192.168.1.100,10.0.0.5,172.16.0.10
ALLOWED_N8N_IPS=

# Rate Limiting
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60

# Input Validation
MAX_INPUT_LENGTH=10000

# RAG Configuration
CHUNK_SIZE=800
CHUNK_OVERLAP=150
MAX_CHUNK_SIZE=1500
VECTOR_DIMENSION=1536
MAX_SEARCH_RESULTS=10

# Session Configuration
SESSION_TIMEOUT_MINUTES=60
MAX_MESSAGES_PER_SESSION=100

# File Processing
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_EXTENSIONS=.md,.txt

# Debug Configuration (set to false in production)
DEBUG_MODE=false
ENABLE_PROFILING=false